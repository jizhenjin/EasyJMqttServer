# 开发环境配置
server:
  port: 2580
#url有以下几种形式:
# jdbc:h2:E:/database 会持久化到磁盘文件，但是是单连接
# jdbc:h2:tcp://IP/database 通过远程连接的方式
# jdbc:h2:mem:database 直接在内存中，程序只要重启就会消失
spring:
  datasource:
    url: jdbc:h2:./database
    driver-class-name: org.h2.Driver
    username: root
    password: root
    data: classpath:db/data.sql
    schema: classpath:db/schema.sql
  jpa:
    database: db2
    hibernate:
      ddl-auto: create-drop
#配置能远程访问
  h2:
    console:
      settings:
        web-allow-others: true
      path: /h2-console
      enabled: true
  #profiles: prod


  mqtt:
    broker:

      # broker唯一标识
      id: mqtt-broker-1
      # SSL端口
      ssl-port: 8885
      # SSL密钥文件密码
      ssl-password: 123456
      # MQTT 端口
      mqtt-port: 1883
      #
      auth-type: 1
      #
      use-ssl: false
      # websocket端口
      websocket-ssl-port: 9995
      # websocket path 值
      websocket-path: /mqtt
      # 心跳时间(秒)
      keep-alive: 60
      # 开启Epoll模式, linux下建议开启
      use-epoll: false
      # 开启组播方式集群
      enable-multicast-group: true
      # 组播地址
      multicast-group: 239.255.255.255
      cache:
        # 持久化缓存内存初始化大小(MB)
        persistence-initial-size: 64
        # 持久化缓存占用内存最大值(MB)
        persistence-max-size: 128
        # 非持久化缓存内存初始化大小(MB)
        not-persistence-initial-size: 64
        # 非持久化缓存占用内存最大值(MB)
        not-persistence-max-size: 128
        # persistence-store-path: /mqtt-broker/persistence

  thymeleaf:
    cache: false
    prefix: classpath:/templates/
    suffix: .html
    encoding: UTF-8
    mode: HTML
    servlet:
      content-type: text/html

# 日志 默认是debug
logging:
  level:
    root: info
    com.easyiot.iot.mqtt.server: info

webadmin:
  username:
    admin
  password:
    password

# Spring监控
info:
  head: head
  body: body
management:
        endpoints:

                web:
                        exposure:
                                #加载所有的端点，默认只加载了info、health
                                include: '*'
        endpoint:
                health:
                        show-details: always
                #可以关闭指定的端点
                shutdown:
                        enabled: false
                sessions:
                        enabled:


#进行该配置后，每次启动程序，程序都会运行resources/db/schema.sql文件，对数据库的结构进行操作。
#spring.datasource.schema=classpath:db/schema.sql
#进行该配置后，每次启动程序，程序都会运行resources/db/data.sql文件，对数据库的数据操作。
#spring.datasource.data=classpath:db/data.sql

